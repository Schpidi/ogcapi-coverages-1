allOf:
  - $ref: '../ogcapi-common-2_1.0/collectionInfo.yaml'
  - type: object
    required:
      - envelope
      - domainSet
      - rangeType
      - serviceMetadata
    properties:
      envelope:
        allOf:
          - $ref: '../cis_1.1/envelope.yaml'
        example:
          id: dem_envelope
          srsName: http://www.opengis.net/def/crs/OGC/1.3/CRS84
          axisLabels:
            - Lat
            - Long
          axis:
            - type: AxisExtentType
              id: dem_envelope_lat
              axisLabel: Lat
              lowerBound: -90
              upperBound: 90
              uomLabel: deg
            - type: AxisExtentType
              id: dem_envelope_long
              axisLabel: Long
              lowerBound: -180
              upperBound: 180
              uomLabel: deg
      domainSet:
        allOf:
          - $ref: '../cis_1.1/domainSet.yaml'
        example:
          type: DomainSetType
          generalGrid:
            type: GeneralGridCoverageType
            srsName: 'http://www.opengis.net/def/crs/EPSG/0/4326'
            axisLabels:
              - Lat
              - Long
            axis:
              - type: RegularAxisType
                axisLabel: Lat
                lowerBound: -90
                upperBound: 90
                uomLabel: deg
                resolution: 1
              - type: RegularAxisType
                axisLabel: Long
                lowerBound: -180
                upperBound: 180
                uomLabel: deg
                resolution: 1
            gridLimits:
              type: GridLimitsType
              srsName: 'http://www.opengis.net/def/crs/OGC/0/Index2D'
              axisLabels:
                - i
                - j
              axis:
                - type: IndexAxisType
                  axisLabel: i
                  lowerBound: 0
                  upperBound: 180
                - type: IndexAxisType
                  axisLabel: j
                  lowerBound: 0
                  upperBound: 360
      rangeType:
        allOf:
          - $ref: '../cis_1.1/rangeType.yaml'
        example:
          type: DataRecordType
          field:
            type: QuantityType
            id: dem_field
            name: dem field
            definition: unsignedInt
            uom:
              type: UnitReference
              code: m
            constraint:
              type: AllowedValues
              interval:
                - 0
                - 10000
          interpolationRestriction:
            type: InterpolationRestrictionType
            allowedInterpolation:
              - linear
      serviceMetadata:
        title: serviceMetadata
        description: Coverage specific service metadata like native format, coverate type, etc.
        type: object
        required:
          - nativeFormat
          - coverageSubtype
        properties:
          nativeFormat:
            type: string
          coverageSubtype:
            type: string
          coverageSubtypeParent:
            $ref: 'coverageSubtypeParent.yaml'
          constraints: #TODO
            type: string
        example:
          nativeFormat: image/tiff
          coverageSubtype: RectifiedGridCoverage
